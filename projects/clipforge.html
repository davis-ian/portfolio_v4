<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>clipforge - Ian Davis</title>
  <meta name="description"
    content="Browser-first media toolkit featuring FFmpeg.wasm-powered video, audio, and image utilities." />
  <link rel="icon" href="../favicon.ico" />
  <link rel="preload" href="https://cdn.jsdelivr.net/gh/JetBrains/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font"
    type="font/woff2" crossorigin />
  <link rel="preload" href="https://cdn.jsdelivr.net/gh/JetBrains/JetBrainsMono/web/woff2/JetBrainsMono-Bold.woff2" as="font"
    type="font/woff2" crossorigin />
  <link rel="stylesheet" href="../css/main.css" />
</head>

<body>
  <!-- Mobile Menu Button -->
  <button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Toggle menu">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </button>

  <div class="site-wrapper">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <span class="explorer-label">EXPLORER</span>
      </div>
      <nav class="file-tree">
        <div class="folder open">
          <div class="folder-header" onclick="toggleFolder(this)">
            <span class="folder-toggle">▼</span>
            <span>PORTFOLIO</span>
          </div>
          <div class="folder-contents">
            <a href="../index.html" class="file">
              <span class="file-prefix">-</span>
              <span>README.md</span>
            </a>
            <div class="folder open">
              <div class="folder-header" onclick="toggleFolder(this)">
                <span class="folder-toggle">▼</span>
                <span>projects</span>
              </div>
              <div class="folder-contents">
                <a href="clipforge.html" class="file active">
                  <span class="file-prefix">-</span>
                  <span>clipforge.js</span>
                </a>
                <a href="forma.html" class="file">
                  <span class="file-prefix">-</span>
                  <span>forma.js</span>
                </a>
                <a href="upnext.html" class="file">
                  <span class="file-prefix">-</span>
                  <span>upnext.js</span>
                </a>
                <a href="callsign.html" class="file">
                  <span class="file-prefix">-</span>
                  <span>callsign.js</span>
                </a>
                <a href="minigames.html" class="file">
                  <span class="file-prefix">-</span>
                  <span>minigames.js</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Breadcrumbs -->
      <nav class="breadcrumbs">
        <a href="../index.html#hero" class="crumb">~/iandavis</a>
        <span class="crumb-separator">/</span>
        <a href="../index.html#work" class="crumb">projects</a>
        <span class="crumb-separator">/</span>
        <span class="crumb active">clipforge.js</span>
      </nav>

      <div class="page-content">
        <section class="hero">
          <div class="hero-header">
            <h1 class="hero-title">clipforge</h1>
            <p class="hero-subtitle">Browser media command line</p>
          </div>
          <p class="hero-description">
            ClipForge is a browser-first media lab built with Vue + Vite that delivers a catalog of FFmpeg.wasm utilities for
            clipping, transcoding, metadata inspection, and lightweight image workstreams directly in the client.
          </p>
          <div class="hero-meta">
            <div class="meta-item">
              <span class="meta-label">Stack</span>
              <span class="meta-value">Vue 3, Vite, FFmpeg.wasm</span>
            </div>
            <div class="meta-item">
              <span class="meta-label">Year</span>
              <span class="meta-value">2025</span>
            </div>
            <div class="meta-item">
              <span class="meta-label">Status</span>
              <span class="meta-value">In development</span>
            </div>
          </div>
        </section>

        <section class="section">
          <h2 class="section-heading">Demo</h2>
          <div style="background: var(--bg-secondary); border: 1px solid var(--color-border); overflow: hidden;">
            <picture>
              <source type="image/avif" srcset="
                    ../images/optimized/clipforge-640.avif   640w,
                    ../images/optimized/clipforge-960.avif   960w,
                    ../images/optimized/clipforge-1280.avif 1280w,
                    ../images/optimized/clipforge-1600.avif 1600w,
                    ../images/optimized/clipforge-2200.avif 2200w
                  " sizes="(min-width: 1200px) 1152px, 100vw" />
              <source type="image/webp" srcset="
                    ../images/optimized/clipforge-640.webp   640w,
                    ../images/optimized/clipforge-960.webp   960w,
                    ../images/optimized/clipforge-1280.webp 1280w,
                    ../images/optimized/clipforge-1600.webp 1600w,
                    ../images/optimized/clipforge-2200.webp 2200w
                  " sizes="(min-width: 1200px) 1152px, 100vw" />
              <img src="../images/optimized/clipforge-1280.jpg" srcset="
                    ../images/optimized/clipforge-640.jpg   640w,
                    ../images/optimized/clipforge-960.jpg   960w,
                    ../images/optimized/clipforge-1280.jpg 1280w,
                    ../images/optimized/clipforge-1600.jpg 1600w,
                    ../images/optimized/clipforge-2200.jpg 2200w
                  " sizes="(min-width: 1200px) 1152px, 100vw" alt="ClipForge tool catalog mockup"
                class="project-cover" width="2200" height="1238" decoding="async" loading="lazy" />
            </picture>
          </div>
          <div style="margin-top: 1rem; display: flex; flex-wrap: wrap; gap: 1rem;">
            <a href="https://clipforge.iandavis.dev/" target="_blank" class="btn btn-primary">
              [>] Live Site
            </a>
            <a href="https://github.com/davis-ian/ffmpeg_wa" target="_blank" class="btn">
              [<>] GitHub Repo
            </a>
          </div>
        </section>

        <section class="section">
          <h2 class="section-heading">About</h2>
          <div class="content-text">
            <p>
              <strong>ClipForge</strong> is a modular media toolbox that runs entirely in the browser. Every tool - from the
              thumbnail clipper and trimmer to audio extractors and HLS downloaders - is defined in a single registry so new
              workflows appear instantly across the sidebar, routing, and runtime.
            </p>
            <p>
              The UI is built with Vue 3 + Vuetify, while ffmpeg-powered operations route through a shared
              <code>ffmpegService</code> that manages loading cores, thread counts, and fallback logic. Lightweight image tasks stay
              browser-native so users get instant feedback without shipping files to a backend.
            </p>
            <p>
              A persistent runtime status bar broadcasts FFmpeg health (core mode, threads, isolation status, and last
              processing strategy) so creators always understand what the WASM runtime is doing. Cross-origin isolation headers are
              documented directly in the project to keep multi-threaded execution stable during deploys.
            </p>
            <p>
              Under the hood, ClipForge follows a safe-first strategy: copy/remux/extract operations are attempted before heavy
              transcodes, with clear warnings when the runtime needs to escalate work. This keeps browser sessions responsive even
              when working with long-form source material.
            </p>
          </div>
          <div class="chip-group mt-4">
            <span class="chip">Vue 3</span>
            <span class="chip">Vite</span>
            <span class="chip">FFmpeg.wasm</span>
            <span class="chip">Vuetify</span>
            <span class="chip">HLS.js</span>
            <span class="chip">Web Workers</span>
          </div>
        </section>

        <section class="section">
          <h2 class="section-heading">Features</h2>
          <div class="timeline">
            <div class="timeline-item">
              <span class="timeline-date">Catalog</span>
              <h3 class="timeline-role">Registry-driven tools</h3>
              <p class="timeline-description">
                The tool registry defines every media utility and feeds the sidebar, routing, and icons so new workflows launch in
                one place.
              </p>
            </div>
            <div class="timeline-item">
              <span class="timeline-date">Runtime</span>
              <h3 class="timeline-role">FFmpeg status bar</h3>
              <p class="timeline-description">
                A live status strip shows which FFmpeg core is loaded, isolation state, thread usage, and fallback strategy during
                every operation.
              </p>
            </div>
            <div class="timeline-item">
              <span class="timeline-date">Isolation</span>
              <h3 class="timeline-role">COOP/COEP ready</h3>
              <p class="timeline-description">
                Guidance for Cross-Origin Isolation headers ensures multi-threaded FFmpeg kernels stay enabled in Chromium builds.
              </p>
            </div>
            <div class="timeline-item">
              <span class="timeline-date">Strategy</span>
              <h3 class="timeline-role">Safe-first execution</h3>
              <p class="timeline-description">
                Copy/remux/extract paths run first with automatic fallback to heavier transcode routines when absolutely required.
              </p>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Status Bar -->
    <footer class="status-bar">
      <div class="status-left">
        <span class="status-item">design3</span>
        <span class="status-item">clipforge.js</span>
        <span class="status-item">UTF-8</span>
      </div>
      <div class="status-right">
        <span class="status-item">Ln 1, Col 1</span>
        <span class="status-item" id="status-size">4.1 KB</span>
        <span class="status-item">JavaScript</span>
      </div>
    </footer>
  </div>

  <!-- Command Palette -->
  <div class="command-palette-overlay" id="command-palette">
    <div class="command-palette">
      <div class="command-input-wrapper">
        <input type="text" class="command-input" id="command-input" placeholder="Type a command or search..."
          autocomplete="off" />
      </div>
      <div class="command-list" id="command-list"></div>
    </div>
  </div>

  <script src="../js/main.js"></script>
  <script>
    // Override commands for project page after DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      COMMANDS.length = 0;
      COMMANDS.push(
        { id: 'back', label: 'Go back to portfolio', action: () => window.location.href = '../index.html', category: 'Navigation', key: 'B' },
        { id: 'portfolio', label: 'Go to: Portfolio', action: () => window.location.href = '../index.html', category: 'Navigation' },
        { id: 'clipforge', label: 'Go to: ClipForge Project', action: () => window.location.href = 'clipforge.html', category: 'Projects' },
        { id: 'forma', label: 'Go to: Forma Project', action: () => window.location.href = 'forma.html', category: 'Projects' },
        { id: 'upnext', label: 'Go to: UpNext Project', action: () => window.location.href = 'upnext.html', category: 'Projects' },
        { id: 'callsign', label: 'Go to: Callsign Project', action: () => window.location.href = 'callsign.html', category: 'Projects' },
        { id: 'minigames', label: 'Go to: Minigames Project', action: () => window.location.href = 'minigames.html', category: 'Projects' },
        { id: 'demo', label: 'Open: Live Site', action: () => window.open('https://clipforge.iandavis.dev/', '_blank'), category: 'Actions' },
        { id: 'request', label: 'Request: Beta Access', action: () => window.location.href = 'mailto:hello.iandavis@gmail.com?subject=ClipForge%20Access', category: 'Actions' },
        { id: 'github', label: 'Open: GitHub Profile', action: () => window.open('https://github.com/davis-ian', '_blank'), category: 'External' },
        { id: 'linkedin', label: 'Open: LinkedIn Profile', action: () => window.open('https://linkedin.com/in/iandavisdev', '_blank'), category: 'External' },
        { id: 'email', label: 'Copy: Email Address', action: copyEmail, category: 'Actions' },
        { id: 'palette', label: 'Toggle: Command Palette', action: () => { if (commandPalette) commandPalette.toggle(); }, category: 'Actions', key: '⌘K' }
      );

      // Refresh command palette with new commands
      if (commandPalette) commandPalette.refreshCommands();

      // Update page size display
      updatePageSize();
    });
  </script>
</body>

</html>
