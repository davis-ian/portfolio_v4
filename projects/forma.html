<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>forma – Ian Davis</title>
    <meta
      name="description"
      content="A pixel-perfect roguelite dungeon crawler with real-time combat, built in Three.js and ECS."
    />
    <link rel="icon" href="../favicon.ico" />
    <link rel="stylesheet" href="../css/main.css" />
  </head>
  <body>
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Toggle menu">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </button>

    <div class="site-wrapper">
      <!-- Sidebar -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
          <span class="explorer-label">EXPLORER</span>
        </div>
        <nav class="file-tree">
          <div class="folder open">
            <div class="folder-header" onclick="toggleFolder(this)">
              <span class="folder-toggle">▼</span>
              <span>PORTFOLIO</span>
            </div>
            <div class="folder-contents">
              <a href="../index.html" class="file">
                <span class="file-prefix">-</span>
                <span>README.md</span>
              </a>
              <div class="folder open">
                <div class="folder-header" onclick="toggleFolder(this)">
                  <span class="folder-toggle">▼</span>
                  <span>projects</span>
                </div>
                <div class="folder-contents">
                  <a href="forma.html" class="file active">
                    <span class="file-prefix">-</span>
                    <span>forma.js</span>
                  </a>
                  <a href="upnext.html" class="file">
                    <span class="file-prefix">-</span>
                    <span>upnext.js</span>
                  </a>
                  <a href="callsign.html" class="file">
                    <span class="file-prefix">-</span>
                    <span>callsign.js</span>
                  </a>
                  <a href="minigames.html" class="file">
                    <span class="file-prefix">-</span>
                    <span>minigames.js</span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Breadcrumbs -->
        <nav class="breadcrumbs">
          <span class="crumb">~/iandavis</span>
          <span class="crumb-separator">/</span>
          <span class="crumb">projects</span>
          <span class="crumb-separator">/</span>
          <span class="crumb active">forma.js</span>
        </nav>

        <div class="page-content">
          <section class="hero">
            <div class="hero-header">
              <h1 class="hero-title">forma</h1>
              <p class="hero-subtitle">3D Roguelite Dungeon Crawler</p>
            </div>
            <p class="hero-description">
              A pixel-perfect roguelite dungeon crawler with real-time combat,
              built in Three.js and a custom Entity Component System (ECS).
            </p>
            <div class="hero-meta">
              <div class="meta-item">
                <span class="meta-label">Stack</span>
                <span class="meta-value">Three.js, Vue</span>
              </div>
              <div class="meta-item">
                <span class="meta-label">Year</span>
                <span class="meta-value">2024</span>
              </div>
              <div class="meta-item">
                <span class="meta-label">Status</span>
                <span class="meta-value">Live</span>
              </div>
            </div>
          </section>

          <section class="section">
            <h2 class="section-heading">Demo</h2>
            <div style="background: var(--bg-secondary); border: 1px solid var(--color-border); overflow: hidden;">
              <video
                width="100%"
                style="aspect-ratio: 16/9; display: block;"
                autoplay
                muted
                loop
                playsinline
                preload="metadata"
              >
                <source
                  src="../videos/optimized/forma-demo-720p30.webm"
                  type="video/webm"
                />
                <source
                  src="../videos/optimized/forma-demo-720p30.mp4"
                  type="video/mp4"
                />
              </video>
            </div>
            <div style="margin-top: 1rem; display: flex; gap: 1rem;">
              <a href="https://forma.iandavis.dev/" target="_blank" class="btn btn-primary">
                [>] Live Demo
              </a>
              <a href="../index.html" class="btn">
                [<] Back
              </a>
            </div>
          </section>

          <section class="section">
            <h2 class="section-heading">About</h2>
            <p class="mb-4">
              Forma is a passion project that explores the intersection of classic
              roguelike gameplay and modern web technologies. Built entirely in the
              browser using Three.js for 3D rendering and a custom ECS architecture
              for game logic.
            </p>
            <p class="mb-4">
              The game features procedurally generated dungeons, real-time combat,
              and a unique visual style inspired by classic pixel art games.
            </p>
            <div class="chip-group mt-4">
              <span class="chip">Three.js</span>
              <span class="chip">Vue.js</span>
              <span class="chip">Custom ECS</span>
              <span class="chip">Procedural Generation</span>
              <span class="chip">WebGL</span>
            </div>
          </section>

          <section class="section">
            <h2 class="section-heading">Features</h2>
            <div class="timeline">
              <div class="timeline-item">
                <span class="timeline-date">Core</span>
                <h3 class="timeline-role">Entity Component System</h3>
                <p class="timeline-description">
                  Custom-built ECS architecture for efficient game state management
                  and logic processing.
                </p>
              </div>
              <div class="timeline-item">
                <span class="timeline-date">Generation</span>
                <h3 class="timeline-role">Procedural Dungeons</h3>
                <p class="timeline-description">
                  Every playthrough features unique dungeon layouts generated
                  using cellular automata and room placement algorithms.
                </p>
              </div>
              <div class="timeline-item">
                <span class="timeline-date">Combat</span>
                <h3 class="timeline-role">Real-time Action</h3>
                <p class="timeline-description">
                  Fast-paced combat system with melee attacks, abilities, and
                  enemy AI.
                </p>
              </div>
            </div>
          </section>
        </div>
      </main>

      <!-- Status Bar -->
      <footer class="status-bar">
        <div class="status-left">
          <span class="status-item">design3</span>
          <span class="status-item">forma.js</span>
          <span class="status-item">UTF-8</span>
        </div>
        <div class="status-right">
          <span class="status-item">Ln 1, Col 1</span>
          <span class="status-item">4.2 KB</span>
          <span class="status-item">JavaScript</span>
        </div>
      </footer>
    </div>

    <!-- Command Palette -->
    <div class="command-palette-overlay" id="command-palette">
      <div class="command-palette">
        <div class="command-input-wrapper">
          <input
            type="text"
            class="command-input"
            id="command-input"
            placeholder="Type a command or search..."
            autocomplete="off"
          />
        </div>
        <div class="command-list" id="command-list"></div>
      </div>
    </div>

    <script src="../js/main.js"></script>
    <script>
      // Override commands for project page
      COMMANDS.length = 0;
      COMMANDS.push(
        { id: 'portfolio', label: 'Go to: Portfolio', action: () => window.location.href = '../index.html', category: 'Navigation' },
        { id: 'upnext', label: 'Go to: UpNext Project', action: () => window.location.href = 'upnext.html', category: 'Projects' },
        { id: 'callsign', label: 'Go to: Callsign Project', action: () => window.location.href = 'callsign.html', category: 'Projects' },
        { id: 'minigames', label: 'Go to: Minigames Project', action: () => window.location.href = 'minigames.html', category: 'Projects' },
        { id: 'demo', label: 'Open: Live Demo', action: () => window.open('https://forma.iandavis.dev/', '_blank'), category: 'Actions' },
        { id: 'github', label: 'Open: GitHub Profile', action: () => window.open('https://github.com/davis-ian', '_blank'), category: 'External' },
        { id: 'linkedin', label: 'Open: LinkedIn Profile', action: () => window.open('https://linkedin.com/in/iandavisdev', '_blank'), category: 'External' },
        { id: 'email', label: 'Copy: Email Address', action: copyEmail, category: 'Actions' },
        { id: 'palette', label: 'Toggle: Command Palette', action: toggleCommandPalette, category: 'Actions', key: '⌘K' }
      );
    </script>
  </body>
</html>
